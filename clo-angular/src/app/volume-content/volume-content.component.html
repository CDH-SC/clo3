<ng-container *ngIf="hasManuscript; else normalContainer">
  <div class="container-fluid" id="manuscriptContent">
    <div class="row flex-column-reverse flex-xl-row">
      <div class="col-12 col-xl-10">
        <div class="row justify-content-around">
          <app-volume-toc
            *ngIf="letters"
            [volId]="volumeId"
            [prevId]="prevVolumeId"
            [nextId]="nextVolumeId"
            [volumeDates]="volumeDates"
            [keys]="volumeKeys"
            [letters]="letters"
            [accounts]="accounts"
            (fronticeClicked)="goToFront($event)"
            (idChanged)="goToVolume($event)"
            (contentChanged)="setPage($event)"
            (letterChanged)="getLetter($event)"
            (accountChanged)="getAccount($event)"
            (letterCycle)="cycleLetter($event)"
          ></app-volume-toc>
          <div id="manuscriptViewer">
            <ul>
              <li *ngFor="let url of manuscriptUrl">
                <img id="manuscriptImage" src="{{ url }}">
              </li>
            </ul>
          </div>
          <app-volume-viewer
            *ngIf="volume"
            [viewContent]="viewContent"
            [volId]="volumeId"
            [prevLetter]="prevLetterId"
            [nextLetter]="nextLetterId"
            [isFrontice]="isFrontice"
            [sourceNote]="sourceNote"
            [footnotes]="footnotes"
            (letterChanged)="getLetter($event)"
            (accountChanged)="getAccount($event)"
            (letterCycle)="cycleLetter($event)"
          ></app-volume-viewer>
        </div>
      </div>
      <div class="col-12 col-xl-2">
        <div class="row justify-content-center m-auto">
          <app-search></app-search>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #normalContainer>
  <div class="container-fluid" id="content">
    <div class="row flex-column-reverse flex-xl-row">
      <div class="col-12 col-xl-10">
        <div class="row justify-content-around">
          <app-volume-toc
            *ngIf="letters"
            [volId]="volumeId"
            [prevId]="prevVolumeId"
            [nextId]="nextVolumeId"
            [volumeDates]="volumeDates"
            [keys]="volumeKeys"
            [letters]="letters"
            [accounts]="accounts"
            (fronticeClicked)="goToFront($event)"
            (idChanged)="goToVolume($event)"
            (contentChanged)="setPage($event)"
            (letterChanged)="getLetter($event)"
            (accountChanged)="getAccount($event)"
            (letterCycle)="cycleLetter($event)"
          ></app-volume-toc>
          <app-volume-viewer
            *ngIf="volume"
            [viewContent]="viewContent"
            [volId]="volumeId"
            [prevLetter]="prevLetterId"
            [nextLetter]="nextLetterId"
            [isFrontice]="isFrontice"
            [sourceNote]="sourceNote"
            [footnotes]="footnotes"
            (letterChanged)="getLetter($event)"
            (accountChanged)="getAccount($event)"
            (letterCycle)="cycleLetter($event)"
          ></app-volume-viewer>
        </div>
      </div>
      <div class="col-12 col-xl-2">
        <div class="row justify-content-center m-auto">
          <app-search></app-search>
        </div>
      </div>
    </div>
  </div>
</ng-template>
