
<div class="container" id="content">
  <div class="row justify-content-start">
    <div class="col-12">
      <H3>Advanced Search</H3>

      <script type="text/javascript">

      document.addEventListener('input',
          function (event) {
              var eventID = event.target.id;
              if (eventID.includes("boolOp")) {
                  var inputID = eventID.replace('boolOp','');
                  var inputName = document.getElementById(inputID).name;
                  document.getElementById(inputID).setAttribute("name",event.target.value + inputName.substring(3));
              }
              else if (eventID.includes("fields")) {
                  var inputID = eventID.replace('fields','');
                  var inputName = document.getElementById(inputID).name;
                  document.getElementById(inputID).setAttribute("name",inputName.substring(0,3) + event.target.value);
              }
          }, false);

      </script>
      <div id="searchQuery">{{ searchQuery }}</div>
      <form action="/boolesearch/" method="post" id="searchTerms">
          <label for="terms"><INPUT type="submit" value="Search"></label><br/>
          <div *ngFor='let query of queries; let i = index'>
             <select [attr.id]="query[0][i]" (change)='testMethod($event)'>
                <option value='AND'>AND</option>
                <option value='OR-'>OR</option>
                <option value='NOT'>NOT</option>
            </select>
            <select [attr.id]="query[1][i]" (change)='testMethod($event)'>
                <option value='docBody'>Letter Body</option>
                <option value='sourceNote'>Source Notes</option>
                <option value='footnotes'>Foot Notes</option>
            </select>
            <input type='string' size=80 [attr.id]="query[2][i]" name='ANDdocBody'/><br/>
         </div> 
      </form>
      <button (click)="addField()">Add Field</button>
      <!-- {{#if volumes}}
          <hr/>
          {{#each volumes}}
              <div class="volume">
                  <div class="title"><span class="label">ID:</span><a href="https://clo.dev.cdhsc.org/volume/{{_id}}/{{letter.xml_id}}" target="_blank">{{letter.xml_id}}</a></div>
                  <div><span class="label">Letter Date:</span> {{letter.docDate}}</div>
                  <div><span class="label">Author:</span> {{letter.docAuthor}}</div>
                  <div><span class="label">Recipient:</span> {{letter.recipient}}</div>
              </div>
              <hr/>
          {{/each}}
      {{else}}
          <div>No data to display.</div>
      {{/if}}

       -->
    </div>
  </div>
</div>